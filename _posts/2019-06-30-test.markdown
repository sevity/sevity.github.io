---
layout: post
title:  "'신뢰수준95%'의 의미"
description: 주식연구에 사용되는 신뢰도, 유의수준, p-value에 대해 알아봅니다.
date:   2019-07-09 21:03:36 +0530
categories: 통계 수학
---
“A조사기관에 따르면 이달 7~10일 전국 19세 이상 성인 남녀 1000명을 대상으로 한 설문조사 결과 B정당 ‘갑’ 후보자에 대한 지지율은 40%, C정당 ‘을’ 후보자의 지지율은 30%로 나타났다. 이번 조사는 신뢰수준 95%이다.” 

선거철마다 단골로 등장하는 여론조사 결과이지만 이 여론조사의 의미를 정확히 이해하는 사람은 의외로 적습니다.

![image](https://user-images.githubusercontent.com/13713182/87009736-8e375180-c200-11ea-99ff-95ea89d161d1.png)

## 소개
안녕하세요, 저는 플랫폼개발팀의 김원일입니다. :)<br/>
주식연구는 노이즈가 심해서 랜덤대비해서 좀 처럼 유의미성을 찾기가 어렵습니다.<br/>
그에따라 유의미성 검증은 중요한 토픽이고, 유명한 방법중 하나가 p-value를 통한 검증입니다.<br/>
이번 글에서는 p-value 및 t-test를 통한 가설검증 방식에 대해 공유하겠습니다.

***

## 주식데이터
주식 데이터를 통한 연구를 하다보면, 노이즈가 심한 주식 데이터의 특성상
실험의 성과가 랜덤대비해서 유의미한지 검증할 필요성을 자주 마주치게 됩니다.

![image](https://user-images.githubusercontent.com/13713182/87015181-081f0900-c208-11ea-9815-2708b60c3f44.png)

## 수학/통계적 배경
신뢰도 95%를 이해하기 위한 수학/통계적 배경지식에 대해서 설명해보겠습니다.

### 귀무가설과 대립가설
* __귀무가설(H0)__ 이란 관습적이고 보수적인 주장이나 통념이고,<br/>
* __대립가설(H1)__ 이란 귀무가설과 반대 주장, 때에 따라 우리가 입증하려는 주장이 됩니다.

### 신뢰수준과 유의수준
* 신뢰수준(=신뢰도)은 귀무가설을 선택할수 있는 수준( 0 ~ 100% )이고, <br/>
* 유의수준(α): 귀무가설을 기각할 수 있는 수준 ( 0 ~ 100%)이며, 둘이 더하면 항상 100%(=1.0)가 됩니다.<br/>
예를 들어, 신뢰수준 90%라면 유의수준은 10% 즉 0.1이 됩니다.

신뢰도나 유의수준은 실험자가 임의로 정하는 값이이고,<br/>
예를 들면, 샘플링한 데이터가 신뢰도95%에서 유의미한지 검정하겠다. 라고 정하는 식입니다.

즉, 일종의 threshold 개념이고, 신뢰수준이 아닌 유의수준에서 설정한 이 threshold를 알파라고 부릅니다.
신뢰도95%라면 유의수준은 5%이므로 α는 0.05가 됩니다.

### p-value
p-value는 귀무가설이 맞다는 전제하에 관측된 통계값 보다 더 희귀할 확률을 의미합니다.
따라서 p-value가 너무 낮다면 그렇게 낮은 확률이 실제로 일어났다고 생각하기 보다는 귀무가설이 틀렸다고 생각하게 되고,
귀무가설을 기각하고 대립가설을 채택하게 됩니다.

![image](https://user-images.githubusercontent.com/13713182/87385744-c8766980-c5d9-11ea-961f-57109fb04ff1.png)

여기서 통계값이란, 관측된 샘플데이터에 대해서 일종의 표준편차를 구하는 작업으로, 다음과 같이 구합니다.
![image](https://user-images.githubusercontent.com/13713182/87385576-60c01e80-c5d9-11ea-857c-806ffc8da743.png)


### t-test와 z-test
통계조사의 특성상 샘플링을 하게되는데, 샘플링을 하게되면 정규분포가 아닌 t분포를 따르게 되며, 특성은 다음과 같습니다.

__t분포의 특성__
1. t분포는 표준정규분포처럼 0을 중심으로 종형의 모습을 가진 대칭 분포이다. 
2. t분포의 꼬리는 표준정규분포보다 두껍다(fat tail). 
3. t분포는 자유도 n에 따라 모습이 변하는데, 자유도 n이 커짐에 따라 표준정규분포 N(0,1)에 수렴한다.


통계적 추론에서는 통상 모집단의 분산이 알려져 있지 않은 경우, 표분분포를 결정할 때 표본의 크기가 30 이하이면 t분포를, 그 크기가 30 이상이면 표준정규분포를 이용한다고 하는데, 이는 바로 위에서 설명된 특성 3) 때문입니다.

* 정규분포를 사용해서 p-value를 보면 z-test가 되고,
* t-분포를 사용해서 p-value를 보면 t-test가 됩니다.

### 정리

즉, 다시 정리하면,
유의수준(α)은 실험자가 선정한 스레시홀드이며,
유의확률(p-value)이란 관측된 샘플데이터를 바탕으로 구한 값으로, 낮을수록 엄밀하지 않게는 귀무가설이 틀리고, 대립가설이 맞을 확률이 높다고 해석할 수 있습니다.
(즉 실험자가 원하는 것이 대립가설의 검정이라면 p-value가 낮으면 낮을수록 우연이 아닌것이 되므로 좋습니다.)

자료로부터 얻은 p값 < 유의확률(α) 이라라면 해당 귀무가설을 기각(타파)할 수 있으며 가설검정 성공입니다.

## 신뢰도 95%

이제 예제를 통해 신뢰도 95%의 의미에 대해 생각해보겠습니다.

### 예제
A나라의 평균수명은 70세라고 통상 알려져 있습니다. 실제로 평균 수명이 70세인지 아닌지 검정하고 싶습니다.

* 귀무가설:  A나라의 평균수명의 통념대로 70세이다. 
* 대립가설:  A나라의 실제로 평균 수명이 70세 초과이다. 


샘플링한 데이터를 t-test를 진행한 결과 p-value가 0.06으로 나왔다고 가정하면,
이것은 유의수준 5% 보다 크기 때문에, 신뢰도 95%이내의 구간에 들어왔고, 
따라서 귀무가설을 채택할 수 있으며, 

A나라의 평균수명은 70세이며, 이번 조사의 신뢰도는 95%이다. 라고 말할 수 있습니다.

![image](https://user-images.githubusercontent.com/13713182/87386710-13917c00-c5dc-11ea-87cd-f7f983c471e6.png)


## 광고

핀트앱을 설치해서 사용해보세요 :)

* [IOS](https://apps.apple.com/kr/app/%ED%95%80%ED%8A%B8-fint/id1434650965, "fint")
* [Android](https://play.google.com/store/apps/details?id=com.dco.fint&hl=ko, "fint")

공식 SNS도 운영하고 있어요.
* [Instagram](https://www.instagram.com/fint.official/?hl=ko, "fint")
* [Facebook](https://www.facebook.com/official.fint/, "fint")
